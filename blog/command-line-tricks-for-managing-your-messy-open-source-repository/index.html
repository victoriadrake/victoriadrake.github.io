<!DOCTYPE html>
<html lang="en-us">

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="Victoria Drake is a senior software developer. She writes about software engineering, information security, and cybersecurity through education.">
<title>
    Command line tricks for managing your messy open source repository | victoria.dev
</title>


    <meta
  name="monetization"
  content="$twitter.xrptipbot.com/victoriadotdev">
    <meta property="og:title" content="Command line tricks for managing your messy open source repository - victoria.dev" />
<meta property="og:type" content="website" />
<meta property="og:description"
    content="A handy toolbox for the terminal to help open source maintainers make their projects sparkle." />
<meta property="og:url" content="https://victoria.dev/blog/command-line-tricks-for-managing-your-messy-open-source-repository/" />
<meta property="og:site_name" content="victoria.dev" />


<meta property="og:image" content="https://victoria.dev/blog/command-line-tricks-for-managing-your-messy-open-source-repository/cover.png"/>

    <meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Command line tricks for managing your messy open source repository" />


<meta name="twitter:image" content="https://victoria.dev/blog/command-line-tricks-for-managing-your-messy-open-source-repository/cover.png"/>

<meta name="twitter:description"
    content="A handy toolbox for the terminal to help open source maintainers make their projects sparkle." />

    
<link rel="shortcut icon" href="/img/logo.ico">


    





<link rel="stylesheet" href="/css/main.min.36d6691f048199fc4e196b50b468570af3eb8b280bba1c5886f23179ed2736ce.css" integrity="sha256-NtZpHwSBmfxOGWtQtGhXCvPriygLuhxYhvIxee0nNs4=" media="screen">





    
    
    
    
</head>

<body>
    <section id="main">

        
        <div class="header">

    <div class="toggle">
        <input type="checkbox" />
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
        <div id="mobile-menu">
            
            
            <span class="menu-item">
                <a href="/">
                    üë©üèª‚Äçüíª hi</a >
            </span>
            
            <span class="menu-item">
                <a href="/blog/">
                    üì∞ blog</a >
            </span>
            
            <span class="menu-item">
                <a href="/about/">
                    üìñ readme</a >
            </span>
            
            <span class="menu-item">
                <a href="/coffee/">
                    <img src='/coffee/cup.png' alt='coffee icon' height='16px'> contribute</a >
            </span>
            
            
            
            
        </div>
    </div>
    <div id="menu">
        
        
        <span class="menu-item">
            <a href="/">
                üë©üèª‚Äçüíª hi</a >
        </span>
        
        <span class="menu-item">
            <a href="/blog/">
                üì∞ blog</a >
        </span>
        
        <span class="menu-item">
            <a href="/about/">
                üìñ readme</a >
        </span>
        
        <span class="menu-item">
            <a href="/coffee/">
                <img src='/coffee/cup.png' alt='coffee icon' height='16px'> contribute</a >
        </span>
        
        
        
        
    </div>

    <div id="logo">
        <img id="up" alt="site logo" src="/img/logo.png" />
    </div>

</div>
        

        <div class="container">
            



<div id="images">
    <img src="https://victoria.dev/blog/command-line-tricks-for-managing-your-messy-open-source-repository/cover.png" alt="cover image" />
</div>


            


<div class="markdown">
    <h1>
        Command line tricks for managing your messy open source repository
    </h1>
    
    <p class="subtitle">A handy toolbox for the terminal to help open source maintainers make their projects sparkle.</p>
    <p class="metadata" id="date">
        February 17, 2020
        ‚òïÔ∏è&nbsp;
        5 min read

        
        &nbsp;
        
        <a class="li-tag" href="/tags/terminal/">
            terminal
        </a>&nbsp;
        
        <a class="li-tag" href="/tags/linux/">
            linux
        </a>&nbsp;
        
        <a class="li-tag" href="/tags/open-source/">
            open-source
        </a>&nbsp;
        
        
    </p>

    
</div>

<div class="page-separator">
    <hr />
</div>

<div class="markdown">
    
    <p>Effective collaboration, especially in open source software development, starts with effective organization. To make sure that nothing gets missed, the general rule, &ldquo;one issue, one pull request&rdquo; is a nice rule of thumb.</p>
<p>Instead of opening an issue with a large scope like, &ldquo;Fix all the broken links in the documentation,&rdquo; open source projects will have more luck attracting contributors with several smaller and more manageable issues. In the preceding example, you might scope broken links by section or by page. This allows more contributors to jump in and dedicate small windows of their time, rather than waiting for one person to take on a larger and more tedious contribution effort.</p>
<p>Smaller scoped issues also help project maintainers see where work has been completed and where it hasn&rsquo;t. This reduces the chances that some part of the issue is missed, assumed to be completed, and later leads to bugs or security vulnerabilities.</p>
<p>That&rsquo;s all well and good; but what if you&rsquo;ve already opened several massively-scoped issues, some PRs have already been submitted or merged, and you currently have no idea where the work started or stopped?</p>
<p>It&rsquo;s going to take a little sorting out to get the state of your project back under control. Thankfully, there are a number of command line tools to help you scan, sort, and make sense of a messy repository. Here&rsquo;s a small selection of ones I use.</p>
<p>Jump to:</p>
<ul>
<li><a href="#interactive-search-and-replace-with-vim">Interactive search-and-replace with <code>vim</code></a></li>
<li><a href="#find-dead-links-in-markdown-files-with-a-node-module">Find dead links in Markdown files with a node module</a></li>
<li><a href="#list-subdirectories-with-or-without-a-git-repository-with-find">List subdirectories with or without a git repository with <code>find</code></a></li>
<li><a href="#pull-multiple-git-repositories-from-a-list-with-xargs">Pull multiple git repositories from a list with <code>xargs</code></a></li>
<li><a href="#list-issues-by-number-with-jot">List issues by number with <code>jot</code></a></li>
<li><a href="#cli-powered-open-source-organization">CLI-powered open source organization</a></li>
</ul>
<h2 id="interactive-search-and-replace-with-vim">Interactive search-and-replace with <code>vim</code></h2>
<p>You can open a file in Vim, then interactively search and replace with:</p>
<div class="highlight"><pre class="chroma"><code class="language-vim" data-lang="vim"><span class="p">:</span>%<span class="nx">s</span><span class="sr">/\&lt;word\&gt;/</span><span class="nx">newword</span>/<span class="nx">gc</span><span class="err">
</span></code></pre></div><p>The <code>%</code> indicates to look in all lines of the current file; <code>s</code> is for substitute; <code>\&lt;word\&gt;</code> matches the whole word; and the <code>g</code> for &ldquo;global&rdquo; is for every occurrence. The <code>c</code> at the end will let you view and confirm each change before it&rsquo;s made. You can run it automatically, and much faster, without <code>c</code>; however, you put yourself at risk of complicating things if you&rsquo;ve made a pattern-matching error.</p>
<h2 id="find-dead-links-in-markdown-files-with-a-node-module">Find dead links in Markdown files with a node module</h2>
<p>The <a href="https://github.com/tcort/markdown-link-check">markdown-link-check</a> node module has a great <a href="https://github.com/tcort/markdown-link-check#command-line-tool">CLI buddy</a>.</p>
<p>I use this so often I turned it into a <a href="/blog/how-to-do-twice-as-much-with-half-the-keystrokes-using-.bashrc/#bash-functions">Bash alias function</a>. To do the same, add this to your <code>.bashrc</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># Markdown link check in a folder, recursive</span>
<span class="k">function</span> mlc <span class="o">()</span> <span class="o">{</span>
    find <span class="nv">$1</span> -name <span class="se">\*</span>.md -exec markdown-link-check -p <span class="o">{}</span> <span class="se">\;</span>
<span class="o">}</span>
</code></pre></div><p>Then run with <code>mlc &lt;filename&gt;</code>.</p>
<h2 id="list-subdirectories-with-or-without-a-git-repository-with-find">List subdirectories with or without a git repository with <code>find</code></h2>
<p>Print all subdirectories that are git repositories, or in other words, have a <code>.git</code> in them:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">find . -maxdepth <span class="m">1</span> -type d -exec <span class="nb">test</span> -e <span class="s1">&#39;{}/.git&#39;</span> <span class="s1">&#39;;&#39;</span> -printf <span class="s2">&#34;is git repo: %p\n&#34;</span>
</code></pre></div><p>To print all subdirectories that are not git repositories, negate the test with <code>!</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">find . -maxdepth <span class="m">1</span> -type d -exec <span class="nb">test</span> <span class="s1">&#39;!&#39;</span> -e <span class="s1">&#39;{}/.git&#39;</span> <span class="s1">&#39;;&#39;</span> -printf <span class="s2">&#34;not git repo: %p\n&#34;</span>
</code></pre></div><h2 id="pull-multiple-git-repositories-from-a-list-with-xargs">Pull multiple git repositories from a list with <code>xargs</code></h2>
<p>I initially used this as part of <a href="/blog/how-to-set-up-a-fresh-ubuntu-desktop-using-only-dotfiles-and-bash-scripts/">automatically re-creating my laptop with Bash scripts</a>, but it&rsquo;s pretty handy when you&rsquo;re working with cloud instances or Dockerfiles.</p>
<p>Given a file, <code>repos.txt</code> with a repository‚Äôs SSH link on each line (and your SSH keys set up), run:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">xargs -n1 git clone &lt; repos.txt
</code></pre></div><p>If you want to pull and push many repositories, I previously wrote about <a href="/blog/how-to-write-bash-one-liners-for-cloning-and-managing-github-and-gitlab-repositories/">how to use a Bash one-liner to manage your repositories</a>.</p>
<h2 id="list-issues-by-number-with-jot">List issues by number with <code>jot</code></h2>
<p>I&rsquo;m a co-author and maintainer for the <a href="https://github.com/OWASP/wstg/">OWASP Web Security Testing Guide</a> repository where I recently took one large issue (yup, it was &ldquo;Fix all the broken links in the documentation&rdquo; - how&rsquo;d you guess?) and broke it up into several smaller, more manageable issues. A whole thirty-seven smaller, more manageable issues.</p>
<p>I wanted to enumerate all the issues that the original one became, but the idea of typing out thirty-seven issue numbers (#275 through #312) seemed awfully tedious and time-consuming. So, in natural programmer fashion, I spent the same amount of time I would have used to type out all those numbers and crafted a way to automate it instead.</p>
<p>The <code>jot</code> utility (<code>apt install athena-jot</code>) is a tiny tool that&rsquo;s a big help when you want to print out some numbers. Just tell it how many you want, and where to start and stop.</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># jot [ reps [ begin [ end ] ] ]</span>
jot <span class="m">37</span> <span class="m">275</span> <span class="m">312</span>
</code></pre></div><p>This prints each number, inclusively, from 275 to 312 on a new line. To make these into issue number notations that GitHub and many other platforms automatically recognize and turn into links, you can pipe the output to <code>awk</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">jot <span class="m">37</span> <span class="m">275</span> <span class="m">312</span> <span class="p">|</span> awk <span class="s1">&#39;{printf &#34;#&#34;$0&#34;, &#34;}&#39;</span>

<span class="c1">#275, #276, #277, #278, #279, #280, #281, #282, #283, #284, #285, #286, #287, #288, #289, #290, #291, #292, #293, #295, #296, #297, #298, #299, #300, #301, #302, #303, #304, #305, #306, #307, #308, #309, #310, #311, #312</span>
</code></pre></div><p>You can also use <code>jot</code> to generate random or redundant data, mainly for development or testing purposes.</p>
<h2 id="cli-powered-open-source-organization">CLI-powered open source organization</h2>
<p>A well-organized open source repository is a well-maintained open source project. Save this post for handy reference, and use your newfound CLI superpowers for good! üöÄ</p>


</div>

<div class="page-separator">
    <hr />
</div>


<div class="related">
    
    <div class="markdown highlight">
        <pre class="chroma"><code class="language-sql" data-lang="sql">SELECT TOP 3 * FROM Related;</code></pre>
    </div>
    <ul id="list-items">
        
            <li>
        
        
        <a class="li-link" href="https://victoria.dev/blog/bash-and-shell-expansions-lazy-list-making/">Bash and shell expansions: lazy list-making</a>
        <p class="li-brief">
            A tour of brace expansion, shell parameter expansions, and playing with substrings in Bash.
        </p>
        <p class="metadata">
            
            <a class="li-tag" href="/tags/terminal/">terminal</a>
            
            ‚òïÔ∏è&nbsp;
            5 min read
        </p>
        
        
    </li>
        
            <li>
        
        
        <a class="li-link" href="https://victoria.dev/blog/a-portable-makefile-for-continuous-delivery-with-hugo-and-github-pages/">A portable Makefile for continuous delivery with Hugo and GitHub Pages</a>
        <p class="li-brief">
            My Makefile for building this site, optimizing images, and running my CI/CD GitHub Actions flow.
        </p>
        <p class="metadata">
            
            <a class="li-tag" href="/tags/ci/cd/">ci/cd</a>
            
            ‚òïÔ∏è&nbsp;
            5 min read
        </p>
        
        
    </li>
        
            <li>
        
        
        <a class="li-link" href="https://victoria.dev/blog/how-to-do-twice-as-much-with-half-the-keystrokes-using-.bashrc/">How to do twice as much with half the keystrokes using `.bashrc`</a>
        <p class="li-brief">
            An overview of time-saving aliases, functions, and creating a useful Bash prompt.
        </p>
        <p class="metadata">
            
            <a class="li-tag" href="/tags/linux/">linux</a>
            
            ‚òïÔ∏è‚òïÔ∏è&nbsp;
            7 min read
        </p>
        
        
    </li>
        
    </ul>
    

    <div class="page-separator">
        <p class="back-link"><a href="/blog">
                &lt;&lt; Back to blog</a> </p> </div> </div> 
        </div>

        <div class="container">
            
            <footer>
    
    
    
    
    
    <div class="markdown">
        
        <figure class="profile">
    <img src="/img/victoria_headshot.jpg"
         alt="Victoria&#39;s headshot"/> 
</figure>

<p>Victoria Drake is a senior software developer in Washington, DC. She currently serves as a core maintainer and co-author for the Open Web Application Security Project (OWASP) Web Security Testing Guide. She earned the annual Top Contributor award two years in a row from the freeCodeCamp non-profit, and is a recognized Distinguished Author on the DEV.to developer platform. She writes about software development, cybersecurity, and information security awareness.</p>
<p><a href="/about">about</a> - <a href="mailto:hello@victoria.dev">email</a> - <a href="https://github.com/victoriadrake">github</a> - <a href="https://twitter.com/victoriadotdev">twitter</a> - <a href="https://www.linkedin.com/in/victoriadotdev/">linkedin</a></p>

    </div>
    
    
</footer>
            
        </div>
    </section>

    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-98623582-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script>
    scrollTo = (element) => {
        window.scroll({
            behavior: 'smooth',
            left: 0,
            top: element.offsetTop
        });
    }

    document.getElementById("up").addEventListener('click', () => {
        scrollTo(document.getElementById("main"));
    });
</script>
    

    
    
    

</body>

</html>